(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{464:function(a,e,s){"use strict";s.r(e);var t=s(6),n=Object(t.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"optimizar-angular-mediante-el-analisis-de-paquetes-npm-con-webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#optimizar-angular-mediante-el-analisis-de-paquetes-npm-con-webpack"}},[a._v("#")]),a._v(" Optimizar Angular mediante el análisis de paquetes npm con webpack")]),a._v(" "),s("social-share",{staticClass:"social-share--header"}),a._v(" "),s("p",[a._v("Más allá de la optimización de una aplicación Angular a través por ejemplo de la "),s("RouterLink",{attrs:{to:"/blog/arquitectura-buenas-practicas-angular/#carga-diferida"}},[a._v("carga diferida de módulos")]),a._v(" o mediante el uso de una estrategia de detección de cambios basada en "),s("em",[a._v("OnPush")]),a._v(", también debemos tener en cuenta el hecho de que los paquetes de terceros que incluyamos, igualmente afectarán al tiempo de carga de la aplicación, bien por su propio tamaño o inclusive por su tiempo de inicialización. Es por ello que optimizar Angular mediante el análisis de paquetes npm, también debe ser uno de nuestros objetivos antes de poner la aplicación en producción.")],1),a._v(" "),s("p",[a._v("A la velocidad a la que se mueve nuestro entorno de trabajo, seguro que se nos ocurren paquetes que hemos ido dejando de usar (en mi caso por ejemplo he sustituido "),s("em",[a._v("ng-zorro")]),a._v(" por "),s("RouterLink",{attrs:{to:"/blog/integrar-tailwind-css-angular-material/"}},[a._v("Tailwind CSS con Angular Material")]),a._v(") y que pueden en algunos casos haberse quedado como dependencia importada en el código sin que nos hayamos dado cuenta. También están los paquetes que cubrían necesidades que el lenguaje ya soporta (como usar "),s("em",[a._v("lodash")]),a._v(" en lugar de "),s("RouterLink",{attrs:{to:"/blog/optimizar-bucles-javascript/"}},[a._v("métodos JavaScript de alto nivel como map,_filter,_reduce,_some, every o_forEach")]),a._v("), pero cuya dependencia no se llegó a eliminar durante las iteraciones de refactorización. Y no nos olvidemos de esas dependencias de paquetes de terceros que sirven para cubrir funcionalidades sencillas que bien podríamos implementar nosotros mismos sin apenas esfuerzo si supiéramos lo que dicho paquete incrementa el tamaño de nuestra aplicación.")],1),a._v(" "),s("h2",{attrs:{id:"¿como-analizar-los-paquetes-de-nuestra-aplicacion-angular"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#¿como-analizar-los-paquetes-de-nuestra-aplicacion-angular"}},[a._v("#")]),a._v(" ¿Cómo analizar los paquetes de nuestra aplicación Angular?")]),a._v(" "),s("p",[s("RouterLink",{attrs:{to:"/blog/usar-webpack-4-transformar-empaquetar-recursos-aplicacion-web/"}},[a._v("Webpack")]),a._v(" dispone de una característica que consiste en la generación de un mapa visual de la composición de los paquetes webpack y dado que esta es la herramienta predeterminada para el empaquetado de módulos de Angular CLI, ¿porqué no aprovecharla?")],1),a._v(" "),s("h3",{attrs:{id:"instalacion"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#instalacion"}},[a._v("#")]),a._v(" Instalación")]),a._v(" "),s("p",[a._v("En primer lugar lo que haremos será añadir el paquete necesario a nuestras dependencias de desarrollo:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" --save-dev webpack-bundle-analyzer\n")])])]),s("h3",{attrs:{id:"configuracion-de-scripts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuracion-de-scripts"}},[a._v("#")]),a._v(" Configuración de scripts")]),a._v(" "),s("p",[a._v("A continuación modificaremos el fichero "),s("em",[a._v("package.json")]),a._v(" de nuestra aplicación para simplificar el proceso de generación del análisis de paquetes:")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"stats"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ng build --stats-json & webpack-bundle-analyzer dist/my-app/stats.json"')]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n")])])]),s("p",[s("em",[a._v("package.json")])]),a._v(" "),s("h3",{attrs:{id:"analisis-de-paquetes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#analisis-de-paquetes"}},[a._v("#")]),a._v(" Análisis de paquetes")]),a._v(" "),s("p",[a._v("A partir de este momento ya tenemos automatizado el análisis y visualización de nuestro mapa de paquetes mediante el siguiente comando:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run-script stats\n")])])]),s("p",[a._v("Y este será el resultado que veremos en nuestro navegador:")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://cloud.githubusercontent.com/assets/302213/20628702/93f72404-b338-11e6-92d4-9a365550a701.gif",alt:"Mapa interactivo de paquetes con webpack"}}),a._v(" "),s("em",[a._v("Mapa interactivo de paquetes con webpack")])]),a._v(" "),s("p",[a._v("Con esta información ya podemos conocer qué hay dentro de los paquetes, qué módulos ocupan más espacio y qué módulos no deberían estar ahí, así que adelante con la optimización.")]),a._v(" "),s("hr"),a._v(" "),s("social-share",{staticClass:"social-share--footer"})],1)}),[],!1,null,null,null);e.default=n.exports}}]);